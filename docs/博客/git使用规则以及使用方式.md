---
title: git使用规则以及使用方式
date: 2025-5-7
categories:
  - 前端
tags:
  - git
sticky: 1
createTime: 2025/05/08 23:20:57
permalink: /article/da0fhwnq/
---

## 一.git在行业中的默认提交方式

- `feat`：新增先功能
- `fix`:修复bug
- `docs`: 文档变更
- `style`: 代码风格改进 (格式化、缺少分号等，不影响代码逻辑) 
- `refactor`: 代码重构 (既不修复 bug 也不添加功能) 
- `test`: 添加或修改测试
- `chore`: 构建过程或辅助工具的变动 (例如生成文件、修改构建配置等) 
- `perf`: 性能优化
- `ci`: CI 配置或脚本的变动
- `build`: 构建系统或外部依赖的变动
- `revert`: 撤销之前的提交 

## 二.git的基本使用

### 1.git的三个区域

工作区：实际开发时操作的文件夹

暂存区：保存之前的准备区域（暂存改动过的文件）

版本库：提交并保存暂存区中的内容，产生一个版本快照

| **命令**                 | **作用**                 |
| ------------------------ | ------------------------ |
| git add 文件名           | 暂存指定文件             |
| git add .                | 暂存所有改动的文件       |
| git commit -m "注释说明" | 提交并保存，产生版本快照 |

## 2.Git 文件状态

Git 文件 2 种状态：

ü未跟踪：新文件，从未被 Git 管理过

ü已跟踪：Git 已经知道和管理的文件

| **文件状态** | **概念**          | **场景**             |
| ------------ | ----------------- | -------------------- |
| 未跟踪（U）  | 从未被 Git 管理过 | 新文件               |
| 新添加（A）  | 第一次被 Git 暂存 | 之前版本记录无此文件 |
| 未修改（''） | 三个区域统一      | 提交保存后           |
| 已修改（M）  | 工作区内容变化    | 修改了内容产生       |

## 3.使用指令

### 3.1基本使用

- **git init** 进行git仓库的初始化
- **git add .**    将**.gitignore** 以外的代码加入git的暂存区
- **git add  指定文件名**    将指定文件加入暂存区
- **git commit -m "注释说明**"  提交并保存，产生版本快照

### 3.2版本切换/回退

- **git  log **  查看历史提交记录
- **git reset --soft** 版本号（其他文件未跟踪）  --工作区和暂存区会被保留
- **git reset --hard** 版本号       --工作区和暂存区会被回退的版本覆盖
- **git reset --mixed** 版本号 （与 git reset 等价）  --工作区保留,暂存区会被回退的版本覆盖

> 注意1：只有记录在版本库的提交记录才能恢复
>
> 注意2：回退后，继续修改->暂存->提交操作即可（产生新的提交记录过程）

### 3.3  .忽略文件

概念：.gitignore 文件可以让 git 彻底忽略跟踪指定文件 

目的：让 git 仓库更小更快，避免重复无意义的文件管理

```gitignore 
#忽略npm下载的第三方包
node_modlues
#忽略打包文件
dist
```

### 3.4 分支

概念：本质上是指向提交节点的可变指针，默认名字是 master/main

是 **从同一个提交节点创建出不同的后续提交，从而形成分支 (Branching)**

**场景**：开发新需求 / 修复 Bug，保证主线代码随时可用，多人协同开发提高效率

1.分支的创建和删除:

- 创建分支命令：**git branch 分支名**
- 切换分支命令：**git checkout 分支名**

2.分支的删除和合并

- 切回到要合入的分支上：git checkout master
- 合并其他分支过来：git merge 分支名
- 删除合并后的分支指针：git branch -d 分支名

### 3.5合并冲突

冲突：把 其他分支合并到 master 回来，产生合并冲突

概念：不同分支中，对同一个文件的同一部分修改，Git 无法干净的合并，产生合并冲突

解决：

1.打开 VSCode 找到冲突文件并手动解决

2.解决后需要提交一次记录



### 3.6远程仓库

1,.本地 Git 仓库添加远程仓库原点地址

命令：**git remote add 远程仓库别名 远程仓库地址**



2.本地 Git 仓库推送版本记录到远程仓库

命令：**git push -u 远程仓库别名 本地和远程分支名**



3.拷贝一个 Git 仓库到本地，进行使用

命令：git clone 远程仓库地址，例如：git clone https://gitee.com/lidongxu/work.git





## 4.命令总结



| **命令**                 | **作用**                | **注意**                               |
| ------------------------ | ----------------------- | -------------------------------------- |
| git -v                   | 查看 git 版本           |                                        |
| git init                 | 初始化 git 仓库         |                                        |
| git add 文件标识         | 暂存某个文件            | 文件标识以终端为起始的相对路径         |
| git add .                | 暂存所有文件            |                                        |
| git commit -m '说明注释' | 提交产生版本记录        | 每次提交，把暂存区内容快照一份         |
| git status               | 查看文件状态 - 详细信息 |                                        |
| git status -s            | 查看文件状态 - 简略信息 | 第一列是暂存区状态，第二列是工作区状态 |
| git ls-files             | 查看暂存区文件列表      |                                        |
| git restore 文件标识     | 从暂存区恢复到工作区    | 如果文件标识为 . 则恢复所有文件        |
| git rm --cached 文件标识 | 从暂存区移除文件        | 不让 git 跟踪文件变化                  |
| git log                  | 查看提交记录 - 详细信息 |                                        |
| git log --oneline        | 查看提交记录 - 简略信息 | 版本号 分支指针 提交时说明注释         |



| git reflog --oneline   | 查看完整历史 - 简略消息              | 包括提交，切换，回退等所有记录                               |
| ---------------------- | ------------------------------------ | ------------------------------------------------------------ |
| git reset 版本号       | 切换版本代码到暂存区和工作区         | --soft 模式保留暂存区和工作区原本内容 --hard 模式不保留暂存区和工作区原本内容 --mixed 模式不保留暂存区，工作区保留（默认） 先覆盖到暂存区，再用暂存区对比覆盖工作区 |
| git branch 分支名      | 创建分支                             |                                                              |
| git branch             | 查看本地分支                         |                                                              |
| git branch -d 分支名   | 删除分支                             | 请确保记录已经合并到别的分支下，再删除分支                   |
| git checkout 分支名    | 切换分支                             |                                                              |
| git checkout -b 分支名 | 创建并立刻切换分支                   |                                                              |
| git merge 分支名       | 把分支提交历史记录合并到当前所在分支 |                                                              |





| **命令**                                 | **作用**         | **注意**                                                     |
| ---------------------------------------- | ---------------- | ------------------------------------------------------------ |
| git remote add 远程仓库别名 远程仓库地址 | 添加远程仓库地址 | 别名唯一，地址是 .git 结尾的网址                             |
| git remote -v                            | 查看远程仓库地址 |                                                              |
| git remote remove 远程仓库别名           | 删除远程仓库地址 |                                                              |
| git pull 远程仓库别名 分支名             | 拉取             | 完整写法：git pull 远程仓库别名 远程分支名:本地分支名 等价于：git fetch 和 git merge |
| git push 远程仓库别名 分支名             | 推送             | 完整写法：git push 远程仓库别名 本地分支名:远程分支名 -u：建立通道后以后可以简写 git push |
| git pull --rebase 远程仓库别名 分支名    | 拉取合并         | 合并没有关系的记录                                           |
| git clone 远程仓库地址                   | 克隆             | 从0得到一个远程的Git仓库到本地使用                           |

